<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>üíÅüá∑ üá¥ üá¨ FB TEAMüèÜ 2FA</title>

  <style>
    * {
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      position: fixed;
      overflow: hidden;
      font-family: 'Segoe UI', sans-serif;
    }

    body {
      background: linear-gradient(135deg, #000428, #004e92);
      color: #eee;
      min-height: 100vh;
      min-height: 100dvh;
      position: relative;
    }

    /* === Main Container (LOCKED CENTER) === */
    .container {
      width: 340px;
      background: rgba(0, 0, 0, 0.9);
      padding: 40px 30px;
      border-radius: 16px;
      text-align: center;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      overflow: hidden;
      z-index: 1;
    }

    /* === Rainbow Border === */
    .container::before {
      content: "";
      position: absolute;
      inset: -2px;
      border-radius: 18px;
      background: linear-gradient(
        270deg,
        red, orange, yellow, green, cyan, blue, violet, red
      );
      background-size: 400% 400%;
      animation: rainbowBorder 5s linear infinite;
      z-index: -1;
    }

    .container::after {
      content: "";
      position: absolute;
      inset: 2px;
      border-radius: 14px;
      background: rgba(0, 0, 0, 0.95);
      z-index: -1;
    }

    @keyframes rainbowBorder {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    @keyframes glow {
      from { text-shadow: 0 0 6px #facc15; }
      to { text-shadow: 0 0 20px #facc15; }
    }

    .team-title {
      color: #facc15;
      margin-bottom: 24px;
      font-size: 24px;
      font-weight: bold;
      animation: glow 2s infinite alternate;
      user-select: none;
    }

    form {
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    input {
      padding: 12px 15px;
      border-radius: 10px;
      border: 1px solid #00ffff;
      background: #1a1a1a;
      color: #00ffff;
      font-size: 16px;
      outline: none;
      width: 100%;
    }

    button {
      background: linear-gradient(90deg, #00c6ff, #0072ff);
      color: white;
      padding: 12px;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      cursor: pointer;
      user-select: none;
    }

    .clear-btn {
      background: #ff0044;
      font-size: 14px;
    }

    .clear-btn:hover {
      background: #cc0033;
    }

    h1 {
      margin-top: 20px;
      letter-spacing: 6px;
      font-weight: 700;
      font-size: 36px;
      color: #00ffff;
    }

    .timer {
      margin-top: 10px;
      font-size: 14px;
      color: #00ffff;
    }

    .progress-bar {
      height: 4px;
      background: rgba(0, 255, 255, 0.2);
      border-radius: 2px;
      margin-top: 10px;
      overflow: hidden;
    }

    .progress {
      height: 100%;
      width: 100%;
      background: #00ffff;
      transition: width 1s linear;
    }

    /* === Rainbow Buttons === */
    .link-buttons {
      margin-top: 14px;
      display: flex;
      gap: 10px;
    }

    .link-buttons a {
      flex: 1;
      padding: 12px;
      text-decoration: none;
      color: white;
      font-weight: bold;
      position: relative;
      border-radius: 10px;
      overflow: hidden;
    }

    .link-buttons a::before {
      content: "";
      position: absolute;
      inset: -2px;
      background: linear-gradient(
        270deg,
        red, orange, yellow, green, cyan, blue, violet, red
      );
      background-size: 400% 400%;
      animation: rainbowBorder 5s linear infinite;
      z-index: -1;
    }

    .link-buttons a::after {
      content: "";
      position: absolute;
      inset: 2px;
      background: rgba(0, 0, 0, 0.9);
      border-radius: 8px;
      z-index: -1;
    }

    @media (max-width: 400px) {
      .container {
        width: 90%;
        padding: 30px 20px;
      }
    }
  </style>
</head>

<body>

  <div class="container">
    <div class="team-title">üíÅüá∑ üá¥ üá¨ FB TEAMüèÜ</div>

    <form onsubmit="return false;">
      <input
        type="text"
        id="secret"
        placeholder="Enter üá∑ üá¥ üá¨ 2FA Authentication"
        autocomplete="off"
        required
      />

      <button id="generateBtn">Generate & Copy Code</button>
      <button type="button" class="clear-btn" id="clearBtn">Clear</button>
    </form>

    <h1 id="code">------</h1>

    <div class="timer" id="timer">Time remaining: --</div>

    <div class="progress-bar">
      <div class="progress" id="progress"></div>
    </div>

    <div class="link-buttons">
      <a href="https://t.me/rogfbteam" target="_blank">üíÅüá∑ üá¥ üá¨</a>
      <a href="https://t.me/rogfbteam" target="_blank">FB TEAMüèÜ</a>
    </div>
  </div>

<script>
  function base32ToBytes(base32) {
    const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567';
    let bits = '';
    for (let c of base32.toUpperCase()) {
      const val = alphabet.indexOf(c);
      if (val === -1) continue;
      bits += val.toString(2).padStart(5, '0');
    }
    const bytes = [];
    for (let i = 0; i + 8 <= bits.length; i += 8) {
      bytes.push(parseInt(bits.slice(i, i + 8), 2));
    }
    return new Uint8Array(bytes);
  }

  const secret = document.getElementById('secret');
  const code = document.getElementById('code');
  const timer = document.getElementById('timer');
  const progress = document.getElementById('progress');
  let countdown;

  document.getElementById('generateBtn').onclick = async () => {
    try {
      const key = base32ToBytes(secret.value.trim());
      const epoch = Math.floor(Date.now() / 1000);
      const time = Math.floor(epoch / 30);
      const buffer = new ArrayBuffer(8);
      new DataView(buffer).setUint32(4, time);

      const cryptoKey = await crypto.subtle.importKey(
        "raw", key, { name: "HMAC", hash: "SHA-1" }, false, ["sign"]
      );

      const hmac = new Uint8Array(await crypto.subtle.sign("HMAC", cryptoKey, buffer));
      const offset = hmac[19] & 0xf;
      const bin =
        ((hmac[offset] & 0x7f) << 24) |
        ((hmac[offset + 1] & 0xff) << 16) |
        ((hmac[offset + 2] & 0xff) << 8) |
        (hmac[offset + 3] & 0xff);

      const otp = (bin % 1000000).toString().padStart(6, '0');
      code.textContent = otp;
      navigator.clipboard.writeText(otp);

      startTimer(epoch);
    } catch {
      code.textContent = "ERROR";
    }
  };

  document.getElementById('clearBtn').onclick = () => {
    secret.value = '';
    code.textContent = '------';
    timer.textContent = 'Time remaining: --';
    progress.style.width = '0%';
    clearInterval(countdown);
  };

  function startTimer(start) {
    clearInterval(countdown);
    const end = Math.floor(start / 30) * 30 + 30;

    countdown = setInterval(() => {
      const now = Math.floor(Date.now() / 1000);
      const left = end - now;
      if (left <= 0) {
        clearInterval(countdown);
        timer.textContent = 'Time remaining: --';
        progress.style.width = '0%';
        return;
      }
      timer.textContent = `Time remaining: ${left}s`;
      progress.style.width = (left / 30 * 100) + '%';
    }, 200);
  }
</script>

</body>
</html>